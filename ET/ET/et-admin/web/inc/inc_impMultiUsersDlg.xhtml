<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >
    <!-- Document View & Edit Dialog -->
    <h:form id="impMultiUsersForm" >
        <p:dialog header="自 WebCS 匯入人員" id="dlgImpMultiUsersWidget" widgetVar="wvImpMultiUsersWidgetDlg" 
                  modal="true" draggable="false" resizable="false" showEffect="clip" hideEffect="clip" >
            <h:panelGroup >
                輸入要匯入的AD帳號<!--與群組資訊-->：
                <br/>
                <h:graphicImage library="images" name="info.png" styleClass="icons" />
                一列一筆
                <!--，格式：<p:outputLabel styleClass="info" value="[AD帳號];[群組名稱1],[群組名稱2]" />。
                <br/>
                <h:graphicImage library="images" name="info.png" styleClass="icons" />
                無群組資訊可只輸入[AD帳號]。-->
                <br />
                <h:graphicImage library="images" name="info.png" styleClass="icons" />
                <h:outputText value="預設為中橡使用者(CSRC_USER)。" styleClass="info" />
                <p:separator />
                    
                <p:inputTextarea cols="30" rows="15" value="#{usersController.importTxt}" 
                                 autoResize="false" ></p:inputTextarea>
            </h:panelGroup>
            <p:separator /> 
                
            <p:panelGrid columns="1" style="width:100%; text-align: center" >
                <h:panelGroup id="pgImpMultiUsersSubmit" >
                    <p:commandButton id="cbImpMultiUsers" value="匯入" 
                                     actionListener="#{usersController.doImport()}"
                                     update=":fmMain:pgMultiImport"
                                     oncomplete="closeImpMultiUsersDlg();" 
                                     icon="ui-icon-disk" ></p:commandButton>
                    <p:spacer width="5" />
                    <p:commandButton id="cbImpMultiUsersClose" value="取消" 
                                     type="button" 
                                     onclick="closeImpMultiUsersDlg();" icon="ui-icon-circle-close" ></p:commandButton>
                </h:panelGroup>
            </p:panelGrid>
        </p:dialog>
    </h:form>
        
    <script type="text/javascript">
        //<![CDATA[
        // datatable multi selection checkbox 的模式，避免誤觸其他欄位造成變單選狀態
        PrimeFaces.widget.DataTable.prototype.onRowClick = function(event, rowElement) {
            return false;
        };
        
        function openImpMultiUsersDlg(){
            PF('wvImpMultiUsersWidgetDlg').show();
        }
        function closeImpMultiUsersDlg(){
            PF('wvImpMultiUsersWidgetDlg').hide();
        }
        //]]>
    </script>
</ui:composition>