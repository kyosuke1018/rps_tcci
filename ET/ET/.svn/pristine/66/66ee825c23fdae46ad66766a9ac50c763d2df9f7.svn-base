# 環境設定: copy pwd_QA.properties, pwd_QA.properties to <workspace_projects>
# cmd執行路徑: <workspace_projects>\procurementPortal\setup\
# 執行語法: <glassfish_home>\glassfish\bin\asadmin --host 192.168.203.81 --user admin --passwordfile ../../pwd_QA.properties multimode --file resources_QA.conf

# D:\Server\glassfish-4.1\bin\asadmin --host 192.168.204.21 --user admin multimode --file resources_PROD.conf
# D:\Server\glassfish-4.1\bin\asadmin --host 192.168.204.24 --user admin multimode --file resources_PROD.conf
# D:\Server\payara-5.184\bin\asadmin --host 192.168.204.62 --user admin --passwordfile pwd_PRD.properties multimode --file resources_PROD.conf

# jdbc, jndi config
# delete-jdbc-resource jdbc/csrcweb
# delete-jdbc-connection-pool csrc_userPool
# delete-custom-resource jndi/csrcweb.config
add-resources glassfish-resources_PROD.xml

# SAM config
# delete-message-security-provider --layer HttpServlet SAM_CSRCWEB
# create-message-security-provider --layer HttpServlet --classname com.tcci.cas.sam.CasServerAuthModule --providertype server --property defaultGroup="Authenticated":casServerLoginUrl="${com.taiwancement.sso.loginUrl}":casServerUrlPrefix="${com.taiwancement.sso.serverUrlPrefix}":jaas-context="casRealm":jndi-dataSource="jdbc/csrcweb":query-group="select g.CODE from TC_USER u, TC_USERGROUP gu,TC_GROUP g where u.DISABLED\=0 and u.LOGIN_ACCOUNT\=? and u.ID\=gu.USER_ID and gu.GROUP_ID\=g.ID":serverName="tccweb.taiwancement.com" SAM_CSRCWEB
