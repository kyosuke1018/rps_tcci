<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/generalPageTemplate.xhtml">
    <ui:define name="title">會員</ui:define>
    <ui:define name="content">
        <p:panel header="會員">
            <h:form id="form" prependId="false" rendered="#{memberController.member ne null}">
                <h:panelGrid columns="4" width="100%">
                    <!--<h:outputLabel value="#{memberController.test}"/>-->
                    <h:outputLabel value="loginAccount:"/>
                    <h:outputLabel value="#{memberController.member.loginAccount}"/>
                    <h:outputLabel value="name:"/>
                    <h:outputLabel value="#{memberController.member.name}"/>
                    <!--M_V-->
                    <h:outputLabel value="公司代碼："/>
                    <p:inputText value="#{memberController.formVO.applyVenderCode}" size="15"/>
                    <h:outputLabel value="公司全名："/>
                    <p:inputText value="#{memberController.formVO.applyVenderName}" size="15"/>
                    <!--M_NV-->
                    <h:outputLabel value="公司統編 / 稅籍編號："/>
                    <p:inputText value="#{memberController.formVO.idCode}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="負責人："/>
                    <p:inputText value="#{memberController.formVO.owner1}" size="15"/>
                    <h:outputLabel value="公司創立日期："/>
                    <p:calendar value="#{memberController.formVO.startAt}" pattern="yyyy/MM/dd" mask="true" size="15"/>
                    <h:outputLabel value="國別："/>
                    <p:inputText value="#{memberController.formVO.country}" size="15"/>
                    <h:outputLabel value="訂單幣別："/>
                    <p:inputText value="#{memberController.formVO.currency}" size="15"/>
                    <h:outputLabel value="公司資本額："/>
                    <p:inputText value="#{memberController.formVO.capital}" size="15"/>
                    <h:outputLabel value="年營業額："/>
                    <p:inputText value="#{memberController.formVO.yearRevenue}" size="15"/>
                    <h:outputLabel value="員工人數："/>
                    <p:inputText value="#{memberController.formVO.employee}" size="15"/>
                    <h:outputLabel value="公司登記電話："/>
                    <p:inputText value="#{memberController.formVO.tel1}" size="15"/>
                    <h:outputLabel value="公司登記地址："/>
                    <p:inputText value="#{memberController.formVO.addr1}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="供貨商類別："/>
                    <p:inputText value="#{memberController.formVO.type}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="供應商行業別 (例如：砂石、橡膠、汽車 業)："/>
                    <p:inputText value="#{memberController.formVO.industry}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="主要產品 (例如：砂石、橡膠、汽車 業)："/>
                    <p:inputText value="#{memberController.formVO.brief2}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="代理品牌："/>
                    <p:inputText value="#{memberController.formVO.brief3}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="聯絡人："/>
                    <p:inputText value="#{memberController.formVO.owner2}" size="15"/>
                    <h:outputLabel value="職稱："/>
                    <p:inputText value="#{memberController.formVO.owner2Tile}" size="15"/>
                    <h:outputLabel value="聯絡人電話："/>
                    <p:inputText value="#{memberController.formVO.tel2}" size="15"/>
                    <h:outputLabel value="聯絡人手機："/>
                    <p:inputText value="#{memberController.formVO.tel3}" size="15"/>
                    <h:outputLabel value="聯絡傳真："/>
                    <p:inputText value="#{memberController.formVO.tel4}" size="15"/>
                    <h:outputLabel value="聯絡人電子信箱："/>
                    <p:inputText value="#{memberController.formVO.url2}" size="15"/>
                    <h:outputLabel value="聯絡地址："/>
                    <p:inputText value="#{memberController.formVO.addr2}" size="15"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                        
                    <h:outputLabel value="匯款銀行帳戶資料"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <p:spacer height="24" width="1"/>
                    <h:outputLabel value="銀行名稱 / 分行："/>
                    <p:inputText value="#{memberController.formVO.bank1}" size="15"/>
                    <h:outputLabel value="受款人："/>
                    <p:inputText value="#{memberController.formVO.bank1Beneficiary}" size="15"/>
                    <h:outputLabel value="銀行代號 (金資代碼)："/>
                    <p:inputText value="#{memberController.formVO.bank1Code}" size="15"/>
                    <h:outputLabel value="銀行帳號："/>
                    <p:inputText value="#{memberController.formVO.bank1Account}" size="15"/>
                    <h:outputLabel value="銀行地址："/>
                    <p:inputText value="#{memberController.formVO.bank1Addr}" size="15"/>
                </h:panelGrid>
                
                <p:commandLink actionListener="#{memberController.apply()}" 
                               title="會員 申請舊商" 
                               rendered="#{etSessionController.isUserInRole('MEMBER')}">
                    <li><h:graphicImage library="images" name="page_edit.png" styleClass="icons" />會員 申請舊商</li>
                </p:commandLink>
                <h:link outcome="/member/apply.xhtml" title="會員申請" rendered="#{etSessionController.isUserInRole('MEMBER')}">
                    <li><h:graphicImage library="images" name="page_edit.png" styleClass="icons" />會員 申請新商</li>
                </h:link>
            </h:form>
            
            <br/><br/><br/>
            <h:panelGrid columns="1" width="100%">
                <h:panelGroup rendered="#{memberSession.isUserInRole('MEMBER')}" >
                    <p:outputLabel value="MEMBER"/>
                </h:panelGroup>
                <h:panelGroup rendered="#{memberSession.isUserInRole('ADMIN')}" >
                    <p:outputLabel value="ADMIN"/>
                </h:panelGroup>
                <h:panelGroup rendered="#{memberSession.isUserInRole('valid-users')}" >
                    <p:outputLabel value="valid-users"/>
                </h:panelGroup>
                <h:panelGroup rendered="#{memberSession.isUserInRole('ADMINISTRATORS')}" >
                    <p:outputLabel value="ADMINISTRATORS"/>
                </h:panelGroup>
            </h:panelGrid>
            
            
            <!--oncomplete="alert('已提交申請。');"--> 
            
            
            <h:panelGroup id="pgButton">
                <p:commandButton value="login"
                                 icon="ui-icon-circle-check"
                                 action="#{memberController.login}"
                                 update="pgButton"
                                 rendered="#{memberController.member eq null}"/>
                <p:commandButton value="logoff"
                                 icon="ui-icon-circle-check"
                                 action="#{memberSession.logout()}"
                                 update="pgButton"
                                 rendered="#{memberController.member ne null}"/>
            </h:panelGroup>
        </p:panel>
    </ui:define>
</ui:composition>