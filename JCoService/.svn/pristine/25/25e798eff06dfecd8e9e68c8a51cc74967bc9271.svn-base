# asadmin --host 192.168.203.81 --user admin multimode --file resources.conf

# jdbc, jndi config
#delete-jdbc-resource jdbc/datawarehouse
#delete-jdbc-connection-pool warehousePool
#delete-jdbc-resource jdbc/ams
#delete-jdbc-connection-pool ams_userPool
#delete-custom-resource jndi/ams.config
add-resources glassfish-resources.xml
#add-resources glassfish-resources_QA_GLOBAL.xml

# SAM config
delete-message-security-provider --layer HttpServlet SAM_JCOSERVICE
create-message-security-provider --layer HttpServlet --classname com.tcci.cas.sam.CasServerAuthModule --providertype server --property defaultGroup="Authenticated":casServerLoginUrl="${com.taiwancement.sso.loginUrl}":casServerUrlPrefix="${com.taiwancement.sso.serverUrlPrefix}":jaas-context="casRealm":jndi-dataSource="jdbc/datawarehouse":query-group="select g.code from TC_User u, TC_USERGROUP gu,TC_GROUP g where u.disabled\=0 and u.login_account\=? and u.id\=gu.user_id and gu.group_id\=g.id":serverName="localhost\:8080" SAM_JCOSERVICE
