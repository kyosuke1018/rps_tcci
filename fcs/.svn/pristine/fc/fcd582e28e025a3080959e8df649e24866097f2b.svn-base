--說明

--TABLE: ZTCO_RELA_GUI
CREATE TABLE ZTCO_RELA_GUI
("ID" BIGINT IDENTITY(1, 1) NOT NULL,  
"GJAHR" NVARCHAR(4 ) ,
"MONAT" SMALLINT ,
"BUKRS" NVARCHAR(4 ) ,
"ZRCAT" NVARCHAR(2 ) ,
"ZRCTP" NVARCHAR(4 ) ,
"BELNR" NVARCHAR(10 ) ,
"KUNNR" NVARCHAR(10 ) ,
"LIFNR" NVARCHAR(10 ) ,
"GUI_REGIS" NVARCHAR(8 ) ,
"BUKRS_PA" NVARCHAR(4 ) ,
"ZPANM" NVARCHAR(40 ) ,
"BUDAT" DATETIME ,
"WAERS" NVARCHAR(5 ) ,
"INVNO" NVARCHAR(10 ) ,
"BASEAMT" DECIMAL(13, 2),
"TAXAMT" DECIMAL(13, 2),
"TOTALAMT" DECIMAL(13, 2),
"ZCKFLG" NVARCHAR(1 ) ,
"ZUPDT" DATETIME ,
CONSTRAINT ZTCO_RELA_GUI_PK PRIMARY KEY (ID),
CONSTRAINT IX_ZTCO_RELA_GUI UNIQUE (GJAHR ASC, MONAT ASC, BUKRS ASC, ZRCAT ASC, ZRCTP ASC, BELNR ASC ),
"SYNC_TIME_STAMP" DATETIME
);
--COMMENT ON TABLE "ZTCO_RELA_GUI" IS '說明';
EXECUTE sp_addextendedproperty 'MS_Description', '[會計年度]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'GJAHR';
EXECUTE sp_addextendedproperty 'MS_Description', '[會計期間]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'MONAT';
EXECUTE sp_addextendedproperty 'MS_Description', '[公司代碼]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'BUKRS';
EXECUTE sp_addextendedproperty 'MS_Description', '[對帳分類]收款方 = RE  例如台通提供台泥服務, 在台通環境是設在 RE, 要輸入客戶編號付款方 = PA 例如台通提供台泥服務, 在台泥環境是設在 PA, 要輸入供應商編號', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'ZRCAT';
EXECUTE sp_addextendedproperty 'MS_Description', '[對帳交易別]INVO', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'ZRCTP';
EXECUTE sp_addextendedproperty 'MS_Description', '[會計文件號碼]BSID, BSAD, BSIK, BSAK', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'BELNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[客戶編號 1, AR時有植]以統編查詢 ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'KUNNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[供應商或貸方的帳號, AP時有值]以統編查詢 ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'LIFNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[統一編號]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'GUI_REGIS';
EXECUTE sp_addextendedproperty 'MS_Description', '[關企公司代碼]ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'BUKRS_PA';
EXECUTE sp_addextendedproperty 'MS_Description', '[關企名稱]ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'ZPANM';
EXECUTE sp_addextendedproperty 'MS_Description', '[文件中的過帳日期]BSID, BSAD, BSIK, BSAK', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'BUDAT';
EXECUTE sp_addextendedproperty 'MS_Description', '[幣別碼]TWD -', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'WAERS';
EXECUTE sp_addextendedproperty 'MS_Description', '[發票號碼]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'INVNO';
EXECUTE sp_addextendedproperty 'MS_Description', '[稅前金額]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'BASEAMT';
EXECUTE sp_addextendedproperty 'MS_Description', '[稅額]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'TAXAMT';
EXECUTE sp_addextendedproperty 'MS_Description', '[稅後金額]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'TOTALAMT';
EXECUTE sp_addextendedproperty 'MS_Description', '[對帳註記]0-已轉出, 1-已讀取, 2-已核對, 3-已合併, 轉出到 OUTDB後註記0, 取得OUTDB中1者, 更新回此欄位', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'ZCKFLG';
EXECUTE sp_addextendedproperty 'MS_Description', '[最近更新日期]', 'user', 'dbo', 'table', 'ZTCO_RELA_GUI', 'column', 'ZUPDT';
--
--說明

--TABLE: ZTCO_RELA_DTL
CREATE TABLE ZTCO_RELA_DTL
("ID" BIGINT IDENTITY(1, 1) NOT NULL,  
"GJAHR" NVARCHAR(4 ) ,
"MONAT" SMALLINT ,
"BUKRS" NVARCHAR(4 ) ,
"ZRCAT" NVARCHAR(2 ) ,
"ZRCTP" NVARCHAR(4 ) ,
"BELNR" NVARCHAR(10 ) ,
"HKONT" NVARCHAR(10 ) ,
"ZUONR" NVARCHAR(18 ) ,
"HKONT_NM" NVARCHAR(20 ) ,
"KUNNR" NVARCHAR(10 ) ,
"LIFNR" NVARCHAR(10 ) ,
"BUKRS_PA" NVARCHAR(4 ) ,
"ZPANM" NVARCHAR(40 ) ,
"BUDAT" DATETIME ,
"BLART" NVARCHAR(2 ) ,
"XBLNR" NVARCHAR(16 ) ,
"WAERS" NVARCHAR(5 ) ,
"WRBTR" DECIMAL(13, 2),
"DMBTR" DECIMAL(13, 2),
"GUI_REGIS" NVARCHAR(8 ) ,
"BELNR_PA" NVARCHAR(20 ) ,
"ZCKFLG" NVARCHAR(1 ) ,
"ZUPDT" DATETIME ,
CONSTRAINT ZTCO_RELA_DTL_PK PRIMARY KEY (ID),
CONSTRAINT IX_ZTCO_RELA_DTL UNIQUE (GJAHR ASC, MONAT ASC, BUKRS ASC, ZRCAT ASC, ZRCTP ASC, BELNR ASC, HKONT ASC, ZUONR ASC ),
"SYNC_TIME_STAMP" DATETIME
);
--COMMENT ON TABLE "ZTCO_RELA_DTL" IS '說明';
EXECUTE sp_addextendedproperty 'MS_Description', '[會計年度]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'GJAHR';
EXECUTE sp_addextendedproperty 'MS_Description', '[會計期間]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'MONAT';
EXECUTE sp_addextendedproperty 'MS_Description', '[公司代碼]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'BUKRS';
EXECUTE sp_addextendedproperty 'MS_Description', '[對帳分類]收款方 = RE  例如台通提供台泥服務, 在台通環境是設在 RE, 要輸入客戶編號付款方 = PA 例如台通提供台泥服務, 在台泥環境是設在 PA, 要輸入供應商編號', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'ZRCAT';
EXECUTE sp_addextendedproperty 'MS_Description', '[對帳交易別]ARAP-應收應付SGLI-特殊總帳 - 此不需要設定, 要取得客戶或供應商所有特殊總帳指示碼交易RECO-收入成本 - 此不需要設定,  RE 要取得所有 4xxxxxxx 會科, PA 要取得所有 5xxxxxxxGLBS-資產負債總帳GLIS-損益總帳', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'ZRCTP';
EXECUTE sp_addextendedproperty 'MS_Description', '[會計文件號碼]BSID, BSAD, BSIK, BSAK', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'BELNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[]同張傳票單一會科加總', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'HKONT';
EXECUTE sp_addextendedproperty 'MS_Description', '[指派]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'ZUONR';
EXECUTE sp_addextendedproperty 'MS_Description', '[]總帳科目名稱', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'HKONT_NM';
EXECUTE sp_addextendedproperty 'MS_Description', '[客戶編號 1, AR時有植]RE - ARAP, SGLI 有此客戶編碼PA - ARAP, SGLI 有此供應商代碼', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'KUNNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[供應商或貸方的帳號, AP時有值]ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'LIFNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[關企公司代碼]ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'BUKRS_PA';
EXECUTE sp_addextendedproperty 'MS_Description', '[關企名稱]ZTFI_GLPA_MAPG', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'ZPANM';
EXECUTE sp_addextendedproperty 'MS_Description', '[文件中的過帳日期]BSID, BSAD, BSIK, BSAK', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'BUDAT';
EXECUTE sp_addextendedproperty 'MS_Description', '[文件類型]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'BLART';
EXECUTE sp_addextendedproperty 'MS_Description', '[參考文件號碼]BSID, BSAD, BSIK, BSAK', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'XBLNR';
EXECUTE sp_addextendedproperty 'MS_Description', '[幣別碼]BSID, BSAD, BSIK, BSAK交易幣別-對帳公司代碼幣別-合併的基礎合併幣別 -', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'WAERS';
EXECUTE sp_addextendedproperty 'MS_Description', '[文件貨幣金額]RE-ARAP - BSID, BSAD, PA-ARAP - BSIK, BSAKRE, PA - GLBS, BLPL - BSIS, BSAS已經處理幣別的 G_FACTOR, 金額是要分借, 貸, 或是 正負值', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'WRBTR';
EXECUTE sp_addextendedproperty 'MS_Description', '[本國貨幣金額]新增-公司代碼幣別, 已經處理過 G_FACTOR', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'DMBTR';
EXECUTE sp_addextendedproperty 'MS_Description', '[統一編號]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'GUI_REGIS';
EXECUTE sp_addextendedproperty 'MS_Description', '[對方傳票號碼]當核對後, AWKEY_PA = 對方資料的 AWKEY', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'BELNR_PA';
EXECUTE sp_addextendedproperty 'MS_Description', '[對帳註記]0-已轉出, 1-已讀取, 2-已核對, 3-已合併, 轉出到 OUTDB後註記0, 取得OUTDB中1者, 更新回此欄位', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'ZCKFLG';
EXECUTE sp_addextendedproperty 'MS_Description', '[最近更新日期]', 'user', 'dbo', 'table', 'ZTCO_RELA_DTL', 'column', 'ZUPDT';

--
--說明

--TABLE: IRS_COMPANY_CLOSE
CREATE TABLE IRS_COMPANY_CLOSE
("ID" BIGINT IDENTITY(1, 1) NOT NULL,  
"COMPANY_CODE" NVARCHAR(4 ) ,
"YEAR_MONTH" NVARCHAR(6 ) ,
CONSTRAINT IRS_COMPANY_CLOSE_PK PRIMARY KEY (ID),
CONSTRAINT IX_IRS_COMPANY_CLOSE UNIQUE (COMPANY_CODE ASC ),
"CREATOR" BIGINT ,
"CREATETIMESTAMP" DATETIME 
);

--COMMENT ON TABLE "IRS_COMPANY_CLOSE" IS '說明';
EXECUTE sp_addextendedproperty 'MS_Description', 'FC_COMPANY.CODE', 'user', 'dbo', 'table', 'IRS_COMPANY_CLOSE', 'column', 'COMPANY_CODE';
EXECUTE sp_addextendedproperty 'MS_Description', '年月', 'user', 'dbo', 'table', 'IRS_COMPANY_CLOSE', 'column', 'YEAR_MONTH';

--說明

--TABLE: IRS_REPORT_UPLOAD
CREATE TABLE IRS_REPORT_UPLOAD
("ID" BIGINT IDENTITY(1, 1) NOT NULL,  
"COMPANY_CODE" NVARCHAR(4 ) NOT NULL,
"YEAR_MONTH" NVARCHAR(6 ) NOT NULL,
"PAGE_CODE" NVARCHAR(3 ) NOT NULL,
CONSTRAINT IRS_REPORT_UPLOAD_PK PRIMARY KEY (ID),
"CREATOR" BIGINT ,
"CREATETIMESTAMP" DATETIME 
);
--COMMENT ON TABLE "IRS_REPORT_UPLOAD" IS '說明';
EXECUTE sp_addextendedproperty 'MS_Description', 'FC_COMPANY.CODE', 'user', 'dbo', 'table', 'IRS_REPORT_UPLOAD', 'column', 'COMPANY_CODE';
EXECUTE sp_addextendedproperty 'MS_Description', '年月', 'user', 'dbo', 'table', 'IRS_REPORT_UPLOAD', 'column', 'YEAR_MONTH';
EXECUTE sp_addextendedproperty 'MS_Description', 'PAGE_CODE', 'user', 'dbo', 'table', 'IRS_REPORT_UPLOAD', 'column', 'PAGE_CODE';

--20151123
--公司主檔 增加欄位 非SAP上傳公司flag
ALTER TABLE FC_COMPANY ADD NON_SAP bit;
update FC_COMPANY set NON_SAP = 'false' where 1=1;

--20151124
--IRS_COMPANY_CLOSE  改依公司群組開關設定
ALTER TABLE IRS_COMPANY_CLOSE ADD COMP_GROUP nvarchar(8);
ALTER TABLE IRS_COMPANY_CLOSE ADD EDIT_LOCK bit;
ALTER TABLE IRS_COMPANY_CLOSE ADD STOP_UPLOAD bit;
ALTER TABLE IRS_COMPANY_CLOSE DROP CONSTRAINT IX_IRS_COMPANY_CLOSE;
ALTER TABLE IRS_COMPANY_CLOSE DROP COLUMN COMPANY_CODE;
--init prod
INSERT INTO IRS_COMPANY_CLOSE (YEAR_MONTH,EDIT_LOCK,COMP_GROUP) VALUES ('',0,'TCC');
INSERT INTO IRS_COMPANY_CLOSE (YEAR_MONTH,EDIT_LOCK,COMP_GROUP) VALUES ('',0,'CSRC');
INSERT INTO IRS_COMPANY_CLOSE (YEAR_MONTH,EDIT_LOCK,COMP_GROUP) VALUES ('',0,'CSRC_BVI');
update IRS_COMPANY_CLOSE set YEAR_MONTH = '201511' where 1=1;
update IRS_COMPANY_CLOSE set STOP_UPLOAD = 0 where 1=1;


--一公司群組開關設定
INSERT INTO FC_CONFIG (CONFIG_KEY,CONFIG_VALUE,COMP_GROUP) VALUES ('IRS_YM',null,'TCC');
INSERT INTO FC_CONFIG (CONFIG_KEY,CONFIG_VALUE,COMP_GROUP) VALUES ('IRS_LOCK',0,'TCC');
INSERT INTO FC_CONFIG (CONFIG_KEY,CONFIG_VALUE,COMP_GROUP) VALUES ('IRS_YM',null,'CSRC');
INSERT INTO FC_CONFIG (CONFIG_KEY,CONFIG_VALUE,COMP_GROUP) VALUES ('IRS_LOCK',0,'CSRC');
--INSERT INTO FC_CONFIG (CONFIG_KEY,CONFIG_VALUE,COMP_GROUP) VALUES ('IRS_YM',null,'CSRC_BVI');
--INSERT INTO FC_CONFIG (CONFIG_KEY,CONFIG_VALUE,COMP_GROUP) VALUES ('IRS_LOCK',0,'CSRC_BVI');


--交易資料上傳紀錄檔
CREATE TABLE IRS_TRAN_UPLOAD_RECORD(
ID bigint NOT NULL IDENTITY,
COMPANY_CODE NVARCHAR(4) NOT NULL,
YEARMONTH NVARCHAR(6) NOT NULL,
MODIFIER bigint NULL,
MODIFYTIMESTAMP datetime NOT NULL,
CONSTRAINT IRS_TRAN_UPLOAD_RECORD_UK UNIQUE (COMPANY_CODE, YEARMONTH),
CONSTRAINT IRS_TRAN_UPLOAD_RECORD_FK1 FOREIGN KEY (MODIFIER) REFERENCES TC_USER (ID)
);
drop table IRS_TRAN_UPLOAD_RECORD;
INSERT INTO IRS_TRAN_UPLOAD_RECORD (COMPANY_CODE,YEARMONTH,MODIFIER,MODIFYTIMESTAMP) VALUES ('5200','201006',null,GETDATE());

--//20151223改為統一只有一組跨集團的設定
delete from IRS_COMPANY_CLOSE where id !=1;
update IRS_COMPANY_CLOSE set COMP_GROUP = null;

--20151224 開放所有會科類別
--調節表增加 IRS_ACCOUNT_NODE.id, 不編列調節flag
ALTER TABLE IRS_SHEETDATA_RECONCILING_D ADD ACCOUNT_NODE_ID bigint null;
ALTER TABLE IRS_SHEETDATA_RECONCILING_D ADD FOREIGN KEY (ACCOUNT_NODE_ID) REFERENCES IRS_ACCOUNT_NODE(ID);
ALTER TABLE IRS_SHEETDATA_RECONCILING_D ADD REMARK_ONLY bit;

--補上IRS_SHEETDATA_M的FK
ALTER TABLE IRS_SHEETDATA_M ADD CONSTRAINT IRS_SHEETDATA_M_FK1 ADD FOREIGN KEY (RE_COMPANY_ID) REFERENCES FC_COMPANY(ID);
ALTER TABLE IRS_SHEETDATA_M ADD CONSTRAINT IRS_SHEETDATA_M_FK2 ADD FOREIGN KEY (PA_COMPANY_ID) REFERENCES FC_COMPANY(ID);
ALTER TABLE IRS_SHEETDATA_M ADD CONSTRAINT IRS_SHEETDATA_M_FK3 ADD FOREIGN KEY (CURRENCY_ID) REFERENCES FC_CURRENCY(ID);
ALTER TABLE IRS_SHEETDATA_M ADD CONSTRAINT IRS_SHEETDATA_M_FK4 ADD FOREIGN KEY (CREATOR) REFERENCES TC_USER(ID);

--20160107關係人交易 欄位修改
ALTER TABLE ZTFI_AFRC_TRAN ALTER Column BUZEI nvarchar(10);
ALTER TABLE ZTFI_AFRC_TRAN ALTER Column BELNR nvarchar(12);
--發票
ALTER TABLE ZTFI_AFRC_INVO ALTER Column BELNR nvarchar(12);

--總帳科目_IFRS
ALTER TABLE ZTFI_AFRC_TRAN ADD HKONT_IFRS nvarchar(10);

--20160108 todo???? 此設計應該是不符需求
--調節表增加 依公告幣別(反之則依交易幣別)調節flag
--ALTER TABLE IRS_SHEETDATA_RECONCILING_D ADD BY_ANNOUNCE bit;

--erp_user 設定SAP公用帳號 權限
USE FCSDB
CREATE USER erp_user FOR LOGIN erp_user
GRANT DELETE,INSERT,SELECT,UPDATE ON dbo.IRS_TRAN_UPLOAD_RECORD TO erp_user
GRANT DELETE,INSERT,SELECT,UPDATE ON dbo.ZTFI_AFRC_INVO TO erp_user
GRANT DELETE,INSERT,SELECT,UPDATE ON dbo.ZTFI_AFRC_TRAN TO erp_user
GO

--增加欄位 合併報表會計科目代碼
ALTER TABLE ZTFI_AFRC_TRAN ADD ACCOUNT_CODE nvarchar(10);


--IRS_SHEETDATA_M
ALTER TABLE IRS_SHEETDATA_M ADD RE_AGREED_AMOUNT DECIMAL(13, 2);
ALTER TABLE IRS_SHEETDATA_M ADD RE_RAW_AMOUNT DECIMAL(13, 2);
ALTER TABLE IRS_SHEETDATA_M ADD PA_AGREED_AMOUNT DECIMAL(13, 2);
ALTER TABLE IRS_SHEETDATA_M ADD PA_RAW_AMOUNT DECIMAL(13, 2);
ALTER TABLE IRS_SHEETDATA_M ADD RE_ACCOUNT_ID bigint;
ALTER TABLE IRS_SHEETDATA_M ADD PA_ACCOUNT_ID bigint;
--IRS_SHEETDATA_RECONCILING_D
ALTER TABLE IRS_SHEETDATA_RECONCILING_D ADD ACCOUNT_NODE_ID bigint;
ALTER TABLE IRS_SHEETDATA_RECONCILING_D ADD REMARK_ONLY bit;


--20160127建立 使用者對帳公司權限關聯表
CREATE TABLE IRS_RECONCIL_COMPANY_R (
	ID bigint NOT NULL IDENTITY,
	COMPANY_ID bigint,
	USER_ID bigint,
	RECONCIL_COMPANY_ID bigint,
	CREATETIMESTAMP datetime NOT NULL
	CONSTRAINT IRS_RECONCIL_COMPANY_R_PK PRIMARY KEY (ID),
	CONSTRAINT IRS_RECONCIL_COMPANY_R_FK1 FOREIGN KEY (COMPANY_ID) REFERENCES FC_COMPANY (ID),
	CONSTRAINT IRS_RECONCIL_COMPANY_R_FK2 FOREIGN KEY (RECONCIL_COMPANY_ID) REFERENCES FC_COMPANY (ID),
	CONSTRAINT IRS_RECONCIL_COMPANY_R_FK3 FOREIGN KEY (USER_ID) REFERENCES TC_USER (ID)
);
--建立 SAP使用者對帳公司權限表
CREATE TABLE SAPUSER_RECONCIL_COMPANY (
	ID bigint NOT NULL IDENTITY,
	COMPANY_CODE nvarchar(4),
	AD_ACCOUNT nvarchar(20),
	RECONCIL_COMPANY_CODE nvarchar(4)
	CONSTRAINT SAPUSER_RECONCIL_COMPANY_PK PRIMARY KEY (ID)
);
GRANT DELETE,INSERT,SELECT,UPDATE ON SAPUSER_RECONCIL_COMPANY TO erp_user;
--20160128 SAP不提供 WEB維護
drop table SAPUSER_RECONCIL_COMPANY;

--20160129關係人交易 上傳紀錄欄位增加
ALTER TABLE IRS_TRAN_UPLOAD_RECORD ADD UPLOAD_DATE nvarchar(8);
ALTER TABLE IRS_TRAN_UPLOAD_RECORD ADD UPLOAD_TIME nvarchar(6);
ALTER TABLE IRS_TRAN_UPLOAD_RECORD ALTER Column MODIFYTIMESTAMP datetime NULL;
--20160203補已上傳的資料
--update IRS_TRAN_UPLOAD_RECORD 
--set UPLOAD_DATE=convert(varchar, convert(datetime, MODIFYTIMESTAMP), 112) 
--set UPLOAD_TIME=replace(convert(varchar, convert(datetime, MODIFYTIMESTAMP), 108),':','')
select MODIFYTIMESTAMP, UPLOAD_DATE, UPLOAD_TIME,
convert(varchar, convert(datetime, MODIFYTIMESTAMP), 112) d1,
replace(convert(varchar, convert(datetime, MODIFYTIMESTAMP), 108),':','') t1 
from IRS_TRAN_UPLOAD_RECORD
where 1=1;

--20160129合併報表 上傳紀錄檔欄位增加
ALTER TABLE RPT_DATA_UPLOAD_RECORD ADD UPLOAD_DATE nvarchar(8);
ALTER TABLE RPT_DATA_UPLOAD_RECORD ADD UPLOAD_TIME nvarchar(6);
ALTER TABLE RPT_DATA_UPLOAD_RECORD ALTER Column MODIFYTIMESTAMP datetime NULL;


--20160225建立 關係人 公司關係設定 
CREATE TABLE IRS_COMPANY_TYPE (
	ID bigint NOT NULL IDENTITY,
	COMP_GROUP nvarchar(6) NOT NULL,
	COMPANY_ID bigint,
	R_TYPE nvarchar(20) NOT NULL,
	CONSTRAINT IRS_COMPANY_TYPE_PK PRIMARY KEY (ID),
	CONSTRAINT IRS_COMPANY_TYPE_FK1 FOREIGN KEY (COMPANY_ID) REFERENCES FC_COMPANY (ID)
	--,CONSTRAINT IRS_COMPANY_TYPE_FK2 FOREIGN KEY (COMP_GROUP) REFERENCES FC_COMP_GROUP (CODE)
);
INSERT INTO IRS_COMPANY_TYPE (COMP_GROUP,COMPANY_ID,R_TYPE) VALUES ('TCC',2,N'子公司');

--20160314 增加 無需上傳的公司註記
ALTER TABLE FC_COMPANY ADD UN_DO bit;
update FC_COMPANY SET UN_DO = 'false' where 1=1;

--20160318建立 本月該公司 無(關係人)交易flag 紀錄使用者、時間
CREATE TABLE IRS_COMPANY_NO_TRANS (
	ID bigint NOT NULL IDENTITY,
	YEARMONTH nvarchar(6) NOT NULL,
	COMPANY_ID bigint NOT NULL,
	USER_ID bigint,
	CREATETIMESTAMP datetime NOT NULL
	CONSTRAINT IRS_COMPANY_NO_TRANS_PK PRIMARY KEY (ID),
	CONSTRAINT IRS_COMPANY_NO_TRANS_FK1 FOREIGN KEY (COMPANY_ID) REFERENCES FC_COMPANY (ID),
	CONSTRAINT IRS_COMPANY_NO_TRANS_FK2 FOREIGN KEY (USER_ID) REFERENCES TC_USER (ID)
);
INSERT INTO IRS_COMPANY_NO_TRANS (YEARMONTH,COMPANY_ID,USER_ID,CREATETIMESTAMP) VALUES ('201512',3,1,GETDATE());

--20160321公司代碼欄位六碼
ALTER TABLE IRS_TRAN_UPLOAD_RECORD ALTER Column COMPANY_CODE nvarchar(6);

--20160323
ALTER TABLE FC_COMPANY ADD VIRTUAL bit;
update FC_COMPANY SET VIRTUAL = 'false' where 1=1;
update FC_COMPANY SET VIRTUAL = 'true' where 1=1 and code like '%XX';


--20160330關係人報表使用會科  () 
--關係人對帳調節表 使用會科 CATEGORY:B
--會計科目 主檔
CREATE TABLE IRS_ACCOUNTS (
	ID bigint NOT NULL IDENTITY,
	COMP_GROUP nvarchar(6),
	BSIS_TYPE nvarchar(2),
	REPA_TYPE nvarchar(2),
	CODE nvarchar(6) NOT NULL,
	NAME nvarchar(50),
	ENAME nvarchar(50),
	CATEGORY nvarchar(6),
	ACTIVE bit NOT NULL
	CONSTRAINT IRS_ACCOUNTS_PK PRIMARY KEY (ID)
);
--BS RE 資產 1161 1181 1212 1419 1421 1268 1479 1920 1930
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1131',N'應收票據-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1153',N'應收帳款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1188',N'其他應收款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1250',N'預付費用','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1261',N'預付貨款','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1268',N'其他預付款','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1280',N'其他流動資產','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1820',N'存出保證金品','B','true');
--BS PA 負債
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2130',N'應付票據-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2150',N'應付帳款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2190',N'其他應付款項–關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2260',N'預收款項','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2820',N'存入保證金(品)','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2880',N'其他負債-其他','B','true');
--BS OTHER 備註
--IS RE 


--20160408 新增SAP會科 mapping table
CREATE TABLE FC_SAP_ACCOUNTS_MAP (
	SHEET nvarchar(6) NOT NULL,
	COMP_CODE nvarchar(6) NOT NULL,
	SAP_ACC_CODE nvarchar(10) NOT NULL,
	SAP_ACC_NAME nvarchar(50),
	RPT_ACC_CODE nvarchar(6) NOT NULL,
	RPT_ACC_NAME nvarchar(50)
);

--update 1400 7700 script
--update ZTFI_AFRC_TRAN SET ZTFI_AFRC_TRAN.ACCOUNT_CODE = m.RPT_ACC_CODE
select t.*, m.RPT_ACC_CODE 
from ZTFI_AFRC_TRAN t
join FC_SAP_ACCOUNTS_MAP m on m.comp_code = t.bukrs
 and ((m.SAP_ACC_CODE = t.HKONT_IFRS and SHEET = 'IFRS') or (m.SAP_ACC_CODE = t.HKONT and SHEET != 'IFRS'))
where 1=1
--and ZGJAHR = '2016'
--and ZMONAT = '1'
--and t.bukrs in ( '1400', '7700', '1700')
;

--temp table
CREATE TABLE FC_SAP_ACCOUNTS_TEMP (
	SHEET nvarchar(6) NOT NULL,
	COMP_CODE nvarchar(6) NOT NULL,
	SAP_ACC_CODE nvarchar(10) NOT NULL,
	SAP_ACC_NAME nvarchar(50),
	RPT_ACC_CODE nvarchar(6) NOT NULL,
	RPT_ACC_NAME nvarchar(50)
);
--temp insert to FC_SAP_ACCOUNTS_MAP
--20160408 從excel貼上 1400 7700 1700
INSERT INTO FC_SAP_ACCOUNTS_MAP
SELECT * FROM FC_SAP_ACCOUNTS_TEMP;
--clear 清空後 從excel貼上
delete from FC_SAP_ACCOUNTS_TEMP
where COMP_CODE in ( '1400', '7700');

201512~201603 
1400 7700 1700
307筆交易中有245筆能對應

--20160412 關係人交易檔會科代碼改6碼
ALTER TABLE ZTFI_AFRC_TRAN ALTER Column ACCOUNT_CODE nvarchar(6);


--20160415 detail acc mapping table
CREATE TABLE FC_ACCOUNTS_DETAIL_MAP (
	DETAIL_CODE nvarchar(6) NOT NULL,
	NOTE_LINE_CODE nvarchar(6) NOT NULL
);
--BS RE 資產 1161 1181 1212 1419 1421 1268 1479 1920 1930 ==>9
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1161','1161');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1162','1161');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1163','1161');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1181','1181');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1182','1181');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1183','1181');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1184','1181');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1185','1181');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1211','1212');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1212','1212');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1419','1419');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1421','1421');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1412','1268');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1429','1268');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1479','1479');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1477','1479');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1476','1479');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1920','1920');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1930','1930');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1935','1930');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1940','1930');
--BS PA 負債 2100 2160 2180 2220 2310 2399 2645 2670 ==>8
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2100','2100');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2160','2160');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2180','2180');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2220','2220');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2310','2310');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2399','2399');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2645','2645');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2670','2670');
--IS RE 收入 4111 4114 4115 4116 4117 4119 4300 4500 4600 4800 7110 7210 7010  ==>13
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4111','4111');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4112','4111');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4113','4111');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4114','4114');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4115','4115');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4116','4116');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4117','4117');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4119','4119');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4300','4300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4520','4500');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4600','4600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4800','4800');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7110','7110');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7210','7210');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7010','7010');
--IS PA 支出 5000 5800 6000 7510 7590  ==>5
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5111','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5112','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5113','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5114','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5115','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5116','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5117','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5119','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5200','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5300','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5500','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5600','5000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5800','5800');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('6100','6000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('6200','6000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('6300','6000');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7050','7510');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7510','7510');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7610','7590');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7615','7590');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7590','7590');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7620','7590');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7100','7100');--20160420

--20160415 重新建立 IRS_ACCOUNTS
--20160511 更新
delete IRS_ACCOUNTS where 1=1;
--BS RE 資產 1161 1181 1212 1419 1421 1268 1479 1920 1930
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1161',N'應收票據-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1181',N'應收帳款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1212',N'其他應收款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1419',N'預付費用','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1421',N'預付貨款','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1268',N'其他預付款','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1479',N'其他流動資產','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1920',N'存出保證金品','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1930',N'長期應收票據及款項-關係人','B','true');
--BS PA 負債 2100 2160 2180 2220 2310 2399 2645 2670
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2100',N'其他短期借款','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2160',N'應付票據-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2180',N'應付帳款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2220',N'其他應付款項–關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2310',N'預收款項','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2399',N'其他流動負債','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2645',N'存入保證金(品)','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2670',N'其他負債-其他','B','true');
--IS RE 收入 4111 4114 4115 4116 4117 4119 4300 4500 4600 4800 7110 7210 7010 
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4111',N'銷貨收入','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4114',N'銷貨收入','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4115',N'銷貨收入','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4116',N'銷貨收入','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4117',N'銷貨收入','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4119',N'銷貨收入','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4300',N'收入金額','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4500',N'收入金額','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4600',N'收入金額','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4800',N'收入金額','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','7100',N'利息收入金額','B','true');--20160420
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','7110',N'收入金額','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','7210',N'收入金額','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','7010',N'收入金額','B','true');
--IS PA 支出 5000 5800 6000 7510 7590
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','PA','5000',N'進貨、運輸成本、運什費等營業成本','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','PA','5800',N'其他營業成本','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','PA','6000',N'營業費用','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','PA','7510',N'利息費用','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','PA','7590',N'支出金額','B','true');


--20160504 非合併聯署公司群組mapping table TCC(20家)
1DDD	保種
6L00	士新儲運
8000	中橡
6K00	中聯資源
8Q00	台灣工銀
6T00	和豐投資
8900	首能
9100	能元
5W00	國產實業
9600	景德
5Y00	辜公亮基金會
6X00	新光合纖
5B00	達和清宇
5C00	達和廢棄物
5D00	達和環保
5X00	嘉利實業
6A00	嘉新水泥
6B00	嘉新國際
6P00	榮工
6S00	劍潭
CREATE TABLE FC_NON_CONSOLIDATION_MAP (
	COMP_GROUP nvarchar(6) NOT NULL,
	HOME_COMP_CODE nvarchar(6) NOT NULL,
	GUEST_COMP_CODE nvarchar(6) NOT NULL
);
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','1DDD');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6L00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','8000');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6K00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','8Q00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6T00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','8900');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','9100');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','5W00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','9600');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','5Y00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6X00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','5B00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','5C00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','5D00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','5X00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6A00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6B00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6P00');
INSERT INTO FC_NON_CONSOLIDATION_MAP (COMP_GROUP,HOME_COMP_CODE,GUEST_COMP_CODE) VALUES ('TCC','1000','6S00');

--20160509 非SAP上傳先開放中橡用的兩個4碼會科(2219、7050)
--特例開放上傳 無報表會科的對應 也無法在勘誤表中列出
--7050已存在
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2219','');
--INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7050','');
delete FC_ACCOUNTS_DETAIL_MAP where DETAIL_CODE = '7050' and NOTE_LINE_CODE = '';
--20160511 開放
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('130X','');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('5111','');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1180','');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1210','');

--20160511 更新 報表會科mapping 
--IrsReportBController(getHighLightColumns,getAutoSizeColumnLength,insertFooter,footerTotal,initFooterMap,processAccTwdAmount)
--FC_ACCOUNTS_DETAIL_MAP
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1172','1172');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1206','1206');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2170','2170');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2200','2200');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('4190','4190');
--IRS_ACCOUNTS
--BS RE 資產 1161 1172 1181 1206 1212 1419 1421 1268 1479 1920 1930  (11)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1172',N'應收帳款-關係人','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1206',N'其他應收款','B','true');
--BS PA 負債 2100 2160 2170 2180 2200 2220 2310 2399 2645 2670  (10)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2170',N'應付帳款','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2200',N'其他應付款項','B','true');
--IS RE 收入 4111 4114 4115 4116 4117 4119 4190 4300 4500 4600 4800 7100 7110 7210 7010  (15)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','4190',N'銷貨退回及折讓','B','true');
--IS PA 支出 5000 5800 6000 7510 7590  (5)


--20160517 把正式環境 關係人對帳上傳的資料整個倒到測試環境 ZTFI_AFRC_TRAN
delete ZTFI_AFRC_TRAN where 1=1;
--貼上執行insert sql  匯出ZTFI_AFRC_TRAN_20160517.sql  失敗 oracle sql 不符
--sql server edit row 直接貼上

--20160518關係人資產負債 要新增2欄. (1175 應收租賃款及2620長期應付票據及款項)
--IrsReportBController(getHighLightColumns,getAutoSizeColumnLength,insertFooter,footerTotal,initFooterMap,processAccTwdAmount)
--FC_ACCOUNTS_DETAIL_MAP
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1175','1175');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1176','1175');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2620','2620');
--IRS_ACCOUNTS
--BS RE 資產 1161 1172 1181 1175 1206 1212 1419 1421 1268 1479 1920 1930  (12)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1175',N'應收租賃款','B','true');
--BS PA 負債 2100 2160 2170 2180 2200 2220 2310 2399 2620 2645 2670  (11)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','PA','2620',N'長期應付票據及款項','B','true');
--IS RE 收入 4111 4114 4115 4116 4117 4119 4190 4300 4500 4600 4800 7100 7110 7210 7010  (15)
--IS PA 支出 5000 5800 6000 7510 7590  (5)


--20160606關係人資產負債 修改2處. (1. 增加1300_存貨,2. 更新2399_其他流動負債)
--20160608關係人收入 增加7130股利收入
--inc_reportB.xhtml
--IrsReportBVO (getTotalRe,getTotalPa)
--IrsReportBController(getHighLightColumns,getAutoSizeColumnLength,insertFooter,footerTotal,initFooterMap,processAccTwdAmount)
--multi sheet ==> IrsReportBController(postProcessXLSDetail,dTitleLabel)
--FC_ACCOUNTS_DETAIL_MAP
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1311','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1312','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1313','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1314','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1315','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1316','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1318','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1321','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1322','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1323','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1324','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1325','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1326','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1328','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1331','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1332','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1338','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1339','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1351','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1352','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1353','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1354','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1355','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1356','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1357','1300');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('2355','2399');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('7130','7130');
--IRS_ACCOUNTS
--BS RE 資產 1161 1172 1181 1175 1206 1212 1300 1419 1421 1268 1479 1920 1930  (13 M)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1300',N'存貨','B','true');
--BS PA 負債 2100 2160 2170 2180 2200 2220 2310 2399 2620 2645 2670  (11 K)
--IS RE 收入 4111 4114 4115 4116 4117 4119 4190 4300 4500 4600 4800 7100 7110 7130 7210 7010  (16 P)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','IS','RE','7130',N'股利收入金額','B','true');
--IS PA 支出 5000 5800 6000 7510 7590  (5 E)

--20160615 部分功能改在ReportService 實作
--1.reportB vo 處理金額轉台幣 寫入指定會科欄位 processAccTwdAmount
--2.footer process(initFooterMap==>footerTotal==>insertFooter)

--inc_reportB.xhtml
--IrsReportBVO (getTotalRe,getTotalPa)
--IrsReportBController(getHighLightColumns,getAutoSizeColumnLength)
--ReportService(processReportBVO,insertFooter,footerTotal,initFooterMap)
--multi sheet ==> IrsReportBController(postProcessXLSDetail,dTitleLabel)
--FC_ACCOUNTS_DETAIL_MAP
--IRS_ACCOUNTS

--20160711關係人資產負債 增加2處. (1. 1600不動產、廠房及設備,2. 1990其他非流動資產)
--inc_reportB.xhtml
--IrsReportBVO (getTotalRe,getTotalPa)
--IrsReportBController(getHighLightColumns,getAutoSizeColumnLength)
--ReportService(processReportBVO,insertFooter,footerTotal,initFooterMap(BS_RE_PA, IS_RE_PA))
--multi sheet ==> IrsReportBController(postProcessXLSDetail,dTitleLabel)
--FC_ACCOUNTS_DETAIL_MAP
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1602','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1603','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1607','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1611','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1612','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1616','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1617','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1671','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1672','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1691','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1692','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1716','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1718','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1736','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1737','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1740','1600');
INSERT INTO FC_ACCOUNTS_DETAIL_MAP (DETAIL_CODE,NOTE_LINE_CODE) VALUES ('1990','1990');
--IRS_ACCOUNTS
--BS RE 資產 1161 1172 1181 1175 1206 1212 1300 1419 1421 1268 1479 1600 1920 1930 1990  (15 O)
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1600',N'不動產、廠房及設備','B','true');
INSERT INTO IRS_ACCOUNTS (COMP_GROUP,BSIS_TYPE,REPA_TYPE,CODE,NAME,CATEGORY,ACTIVE) VALUES ('TCC','BS','RE','1990',N'其他非流動資產','B','true');
--BS PA 負債 2100 2160 2170 2180 2200 2220 2310 2399 2620 2645 2670  (11 K)
--IS RE 收入 4111 4114 4115 4116 4117 4119 4190 4300 4500 4600 4800 7100 7110 7130 7210 7010  (16 P)
--IS PA 支出 5000 5800 6000 7510 7590  (5 E)



