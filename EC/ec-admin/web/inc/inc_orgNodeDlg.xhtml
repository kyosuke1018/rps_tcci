<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >
        <!-- 專案組織編輯 對話框 -->
        <h:form id="addOrgsNodeForm" prependId="false" >
            <p:dialog header="編輯組織" id="dlgOrgsNode" widgetVar="wvOrgsNodeDlg" 
                      modal="true" draggable="false" resizable="false" showEffect="clip" hideEffect="clip" >
                <h:panelGrid id="pgOrgsNode" columns="2" style="margin-bottom:10px" cellpadding="5">
                    <p:outputLabel value="組織層級：" />
                    <p:selectOneMenu value="#{orgController.editItem.cmOrg.ctype}" 
                                     rendered="#{!empty orgController.editItem}" 
                                     var="row" >
                        <f:selectItems value="#{ui.orgTypeOtions}" />
                    </p:selectOneMenu>
                    <p:outputLabel value="輸入代碼：" />
                    <p:inputText value="#{orgController.editItem.cmOrg.code}" size="16" />
                    <p:outputLabel value="輸入名稱：" />
                    <p:inputText value="#{orgController.editItem.cmOrg.name}" size="16" />
                    <!--
                    <p:outputLabel value="輸入註解：" />
                    <p:inputTextarea rows="3" cols="30" value="#{orgController.editItem.cmOrg.memo}" />
                    -->
                </h:panelGrid>
                <p:separator /> 
                <p:panelGrid columns="1" style="width:100%; text-align: center" >
                    <h:panelGroup id="pgOrgsNodeEditSubmit" >
                        <p:commandButton id="cbOrgsNodeSave" value="確定" 
                                         actionListener="#{orgController.save()}" 
                                         update="@(form)" 
                                         oncomplete="closeOrgsNodeDlg();" icon="ui-icon-circle-check" ></p:commandButton><!-- update all form -->
                        <p:spacer width="5" />
                        <p:commandButton id="cbOrgsNodeClose" value="取消" immediate="true" 
                                         onclick="closeOrgsNodeDlg();" icon="ui-icon-circle-close" ></p:commandButton>
                    </h:panelGroup>
                </p:panelGrid>
            </p:dialog>
        </h:form>

    <script type="text/javascript">
    //<![CDATA[
    function openOrgsNodeDlg(){
        PF('wvOrgsNodeDlg').show();
    }
    function closeOrgsNodeDlg(){
        PF('wvOrgsNodeDlg').hide();
    }
    //]]>
    </script>
</ui:composition>