<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >
    <h:form prependId="false" id="reviewOrderForm">
        <p:dialog header="#{msg['quotation.reviewOrder']}"
                  id="reviewOrderDialog"
                  widgetVar="reviewOrderDialogVar"
                  resizable="false"            
                  width="394"
                  height="345"
                  modal="true">           
            <h:panelGrid columns="2" width="100%"
                         rendered="#{queryQuotation.selected.quotationMaster ne null}">

                <h:outputLabel value="#{msg['quotation.id']}:"
                               for="reviewOrderDialog_id"/>
                <h:outputText id="reviewOrderDialog_id"
                              value="#{queryQuotation.selected.quotationMaster.id}"/>

                <h:outputLabel value="#{msg['quotation.date']}:"
                               for="reviewOrderDialog_quotationDate"/>
                <h:outputText id="reviewOrderDialog_quotationDate"
                              value="#{queryQuotation.selected.quotationMaster.quotationDate}">
                    <f:convertDateTime pattern="yyyy/MM/dd"/>
                </h:outputText>

                <h:outputLabel value="#{msg['customer']}:"
                               for="reviewOrderDialog_customer"/>
                <h:outputText id="reviewOrderDialog_customer"
                              value="#{queryQuotation.selected.quotationMaster.customer.displayIdentifier}"/>
                <h:outputLabel value="#{msg['quotation.consignee']}:"
                               rendered="#{queryQuotation.selected.quotationMaster.customer ne queryQuotation.selected.quotationMaster.consignee}"
                               for="reviewOrderDialog_consignee"
                               />
                <h:outputText id="reviewOrderDialog_consignee"
                              value="#{queryQuotation.selected.quotationMaster.consignee.displayIdentifier}"
                              rendered="#{queryQuotation.selected.quotationMaster.customer ne queryQuotation.selected.quotationMaster.consignee}"
                              />
                
                <h:outputLabel value="#{msg['quotation.poNo']}:"
                               for="reviewOrderDialog_poNo"/>
                <h:outputText id="reviewOrderDialog_poNo"
                              value="#{queryQuotation.selected.quotationMaster.poNo}"/>
                
                <h:outputLabel value="#{msg['quotation.quotationNo']}:"
                               for="reviewOrderDialog_quotationNo"/>
                <h:outputText id="reviewOrderDialog_quotationNo"
                              value="#{queryQuotation.selected.quotationMaster.quotationNo}"/>
                
                <h:outputLabel value="#{msg['quotation.detail']}:"
                               for="reviewOrderDialog_detail"/>
                <p:commandLink value="請點我"
                               onclick="PF('detailDialogVar').show()"/>
                
                <h:outputLabel value="#{msg['quotation.amount']}:"
                               for="reviewOrderDialog_amount"/>
                <h:outputText id="reviewOrderDialog_amount"
                              value="#{queryQuotation.selected.quotationMaster.amount}">
                    <f:convertNumber pattern="#,###"/>
                </h:outputText>
                
                <h:outputLabel value="#{msg['premium.discount']}:"
                               for="reviewOrderDialog_premiumDiscount"/>
                <h:outputText id="reviewOrderDialog_premiumDiscount"
                              value="#{queryQuotation.selected.quotationMaster.premiumDiscount}">
                    <f:convertNumber pattern="#,###"/>
                </h:outputText>

                <h:outputLabel value="#{msg['quotation.totalAmount']}:"
                               for="reviewOrderDialog_totalAmount"/>
                <h:outputText id="reviewOrderDialog_totalAmount"
                              value="#{queryQuotation.selected.quotationMaster.totalAmount}">
                    <f:convertNumber pattern="#,###"/>
                </h:outputText>

                <h:outputLabel value="#{msg['quotation.reviewOption']}:"
                               for="reviewOrderEntryDialog_reviewOption"/>
                <p:selectOneRadio id="reviewOrderEntryDialog_reviewOption" 
                                  value="#{queryQuotation.selected.reviewOption}">
                    <f:selectItems value="#{queryQuotation.reviewOptionList}"
                                   var="reviewOption"
                                   itemLabel="#{reviewOption.displayName}"
                                   itemValue="#{reviewOption}"/>
                </p:selectOneRadio>
                
                <h:outputLabel value="#{msg['quotation.reviewComment']}:"
                               for="reviewOrderEntryDialog_reviewComment"/>
                <p:inputTextarea id="reviewOrderEntryDialog_reviewComment"
                                 value="#{queryQuotation.selected.remark}"
                                 rows="3"
                                 cols="40"
                                 maxlength="1000"
                                 />
            </h:panelGrid>
            <h:panelGrid columns="1" style="width: 100%;text-align: center;">
                <h:panelGroup>
                    <p:commandButton icon="ui-icon-check"
                                     value="#{msg['button.ok']}"
                                     action="#{queryQuotation.save}"
                                     update="searchResult :messages :growl"
                                     oncomplete="reviewOrderDialog_okcomplete(xhr,status,args);"/>
                    <p:spacer width="5px"/>
                    <p:commandButton icon="ui-icon-close"
                                     value="#{msg['button.cancel']}"
                                     oncomplete="PF('reviewOrderDialogVar').hide();"/>
                </h:panelGroup>
            </h:panelGrid>
        </p:dialog> 
    </h:form>    
</ui:composition>

