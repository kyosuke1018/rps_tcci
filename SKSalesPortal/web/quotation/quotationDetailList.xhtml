<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                >
    <p:dataTable value="#{dataList}"
                 var="detailVO"
                 style="width: 878px;">
        <p:column headerText="#{msg['quotation.productNumber']}">
            <h:outputText value="#{detailVO.detail.productNumber}"
                          />
            <p:spacer width="2px" height="2px"/>
            <p:commandLink action="#{queryQuotation.prepareTransaction(detailVO.detail)}"
                           update=":transactionForm:transactionDialog"
                           oncomplete="PF('transctionDialogVar').show();"
                           >
                <h:graphicImage library="images" name="history.png"
                                width="16px" height="16px"
                                title="#{msg['quotation.history']}"/>
            </p:commandLink>
        </p:column>

        <p:column headerText="#{msg['quotation.productName']}">
            <h:outputText value="#{queryQuotation.getProductName(detailVO.detail.productNumber)}"
                          style="float: left;"/>
        </p:column>
        <p:column headerText="#{msg['quotation.quantity']}">
            <h:outputText value="#{detailVO.detail.quantity}"
                          style="float: right;">
                <f:convertNumber pattern="#,###"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msg['quotation.price']}">
            <h:outputText value="#{detailVO.detail.price}"
                          style="float: right;"
                          >
                <f:convertNumber pattern="#,##0.00"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msg['quotation.amount']}">
            <h:outputText value="#{detailVO.detail.quantity*detailVO.detail.price}"
                          style="float: right;"
                          >
                <f:convertNumber pattern="#,###"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msg['premium.discount']}">
            <h:outputText value="#{detailVO.detail.premiumDiscount}"
                          style="float: right;"
                          >
                <f:convertNumber pattern="#,###"/>
            </h:outputText>
        </p:column>
        <p:column headerText="#{msg['quotation.totalAmount']}">
            <h:outputText value="#{detailVO.detail.quantity * detailVO.detail.price - (detailVO.detail.premiumDiscount eq null ? 0 : detailVO.detail.premiumDiscount)}"
                          style="float: right;"
                          rendered="#{not detailVO.gift}">
                <f:convertNumber pattern="#,###"/>
            </h:outputText>
            <h:outputText value="#{msg['gift']}"
                          rendered="#{detailVO.gift}"/>
        </p:column>
    </p:dataTable>
</ui:composition>

